{% extends "Shared/_layout.twig" %}

{% block title %} Medication Update {% endblock %}

{% block body %}

    <div class="container" id="medication" v-cloak>      
        <div class="row mb-2">
            <div class="col-12">
                <h2 class="text-dark mb-4">Medication update</h2>            

                 <div class="callout callout-info">
                    <i class="fas fa-info-circle fa-2x mr-2 align-middle"></i>
                    This page contains medication information and usage instructions.
                </div>
            </div>

            
            <form>
                <input type="hidden" name="csrf" id="csrf" value="{{ csrf }}">
                 <input type="hidden" name="id" id="id" value="{{ id }}">
                <!-- new medication items -->
                <div class="card mb-5">

                    <h5 class="card-header bg-dark text-white">
                        <i class="fas fa-file-medical mr-1"></i>
                        <input type="text" name="med_name" class="col-5 ml-2" id="imputname" placeholder="name" v-model="medication.name">     
                        <input type="text" name="med_on_hand" class="col-3 ml-2" id="imputname" placeholder="on hand doses" v-model="medication.on_hand_doses">            
                        <input type="text" name="med_price" class="col-2 ml-2" id="imputname" placeholder="price" v-model="medication.price">                          
                    </h5>

                    <div class="card-body">
                        <div class="row">
                            <div class="col-3">                           
                                <img v-bind:src="medication.img" class="ml-3" style="height:190px; width:190px;"></img>                          
                            </div>
                            <div class="col-9">
                                <textarea id="med_desc" placeholder="Description" v-model="medication.desc"></textarea>             
                            </div>  
                            <div class="col-12 mt-3">
                                <textarea id="med_instr" placeholder="Instructions" v-model="medication.instruction"></textarea>             
                            </div>                                          
                        </div>                    

                        <div class="row mt-3">
                            <div class="form-group col">
                                <a href="#"  class="btn btn-success float-right" v-on:click="updateMed()">
                                    <i class="fas fa-check text-small"></i>
                                    Update
                                </a>
                                <a href="/medication"  class="btn btn-warning float-right mr-2">
                                    <i class="fas fa-times-circle text-small"></i>
                                    Cancel/Back
                                </a>
                            </div>
                        </div>
                    </div>
            
                </div>      
            </form>     
        </div>    

    </div>


{% endblock %}


{% block custom_scripts %}

    <!-- tinyMice rich text editor -->
    <script type="text/javascript" src="/assets/components/tinymce/tinymce.min.js"></script>
    <script type="text/javascript" src="/assets/components/tinymce/jquery.tinymce.min.js"></script>

    <!-- vue js -->
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="/assets/components/toastr/toastr.min.js"></script>

    <script src="/assets/js/vue/medication/update.js"></script>

     <script type="application/javascript">
        $(function () {
            
              tinymce.init({
                selector: '#med_desc',
                menubar:false,
                statusbar: false,
                toolbar: 'undo redo styleselect bold italic alignleft aligncenter alignright bullist numlist outdent indent code',
                plugins: 'code'
            });        

              tinymce.init({
                selector: '#med_instr',
                menubar:false,
                statusbar: false,
                toolbar: 'undo redo styleselect bold italic alignleft aligncenter alignright bullist numlist outdent indent code',
                plugins: 'code'
            });        


        });
    </script>
{% endblock %}