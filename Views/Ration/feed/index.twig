{% extends "Shared/_layout.twig" %}

{% block title %} Ration Calculator {% endblock %}

{% block header_scripts %}
    <link href="/assets/components/toastr/toastr.min.css"  rel="stylesheet">
 {% endblock %}


{% block body %}

<!-- side nav menu -->
{# {% include '/Medication/_sidenav.twig' %} #}
{{ include('Ration/_sidenav.twig') }}    
    
<div class="container-fluid" id="feed" v-cloak>  
    <input type="hidden" name="csrf" id="csrf" value="{{ csrf }}">               

    <!-- page name and usage instructions -->
    <div class="row mt-4">
        <div class="col-12 border-bottom">          
            <h2 class="text-dark">Feeds</h2>                
        </div>      
    </div>    

    <div class="row mt-4">
          <div class="col-12" v-if="feeds.length > 0">
            <h5>Feeds</h5>
            <table class="table table-sm table-bordered shadow-sm">
                <thead>
                    <tr>
                        <th scope="col" class="bg-dark text-white">Feed</th>
                        <th scope="col" class="bg-dark text-white">CP %</th>
                        <th scope="col" class="bg-dark text-white">TDN %</th>                                    
                        <th scope="col" class="bg-dark text-white">Feed Type</th>
                        <th scope="col" class="bg-dark text-white">#</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="(item, index) in feeds">
                        <td class="bg-white">{{ '{{ item.feed_name }}' }}</td>
                        <td class="bg-white">{{ '{{ item.feed_cp }}' }}</td>
                        <td class="bg-white">{{ '{{ item.feed_tdn }}' }}</td>                 
                        <td class="bg-white">{{ '{{ item.feed_type }}' }}</td>
                        <td class="bg-white"><a href="#">
                                <i class="far fa-trash-alt btn-sm text-danger align-middle float-right" title="Remove from default" v-on:click="showDeleteModal(item.id, item.feed_name)"></i>
                            </a>
                        </td>
                    </tr>                 
                </tbody>
            </table>
        </div>       
    </div>          

     <!-- Remove transaction Modal -->   
    <div class="modal fade" id="deleteModalRecord" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header bg-danger">
                    <h5 class="modal-title text-white" id="exampleModalCenterTitle">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        Remove item
                    </h5>                            
                </div>
                <div class="modal-body">
                    Are you sure you want to remove <b>"{{ '{{ feed_item.feed_name }}' }}"</b> feed item?
                    <div class="alert alert-warning mt-2" role="alert">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        Please be advised removing feed item is irreversable acton.
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-warning" data-dismiss="modal" v-on:click.prevent="hideDeleteModal()">
                        <i class="fas fa-times-circle text-small me-1"></i>Cancel
                    </button>
                    <button type="button" class="btn btn-danger" v-on:click.prevent="deleteFeed()">
                        <i class="far fa-trash-alt text-small me-1"></i>Remove</button>
                </div>
            </div>
        </div>
    </div>
    <!-- end of modal -->
 
</div>

{% endblock %}

{% block custom_scripts %}   

    <!-- toastr -->    
    <script src="/assets/components/toastr/toastr.min.js"></script>

    <!-- feeds vuejs -->
    <script src="/assets/js/vue/ration/feed/index.js"></script>

    <script type="application/javascript">
        $(function () {          

        });
    </script>
{% endblock %}